<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text RPG</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            transition: background-color 0.3s ease;
        }
        .game-title {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .game-text {
            margin-bottom: 20px;
        }
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .button-container button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .button-container button:hover {
            background-color: #0056b3;
        }
        .inventory {
            margin-top: 30px;
        }
        .stats {
            margin-top: 30px;
        }
        .stats table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        .stats th, .stats td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .settings-button {
            margin-top: 30px;
        }
        .areas-menu {
            margin-top: 20px;
        }
        .save-button {
            margin-top: 20px;
        }
        .settings-menu {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #fff;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            display: none;
        }
        .settings-menu label {
            display: block;
            margin-bottom: 10px;
        }
        .dark-mode {
            margin-top: 20px;
        }
        /* Dark mode styles */
        body.dark-mode {
            background-color: #333;
            color: #fff;
        }
        .game-container.dark-mode {
            background-color: #444;
            color: #fff;
            border-color: #666;
        }
        .settings-menu.dark-mode {
            background-color: #555;
            color: #fff;
            border-color: #777;
        }
    </style>
</head>
<body>
    <div class="game-container" id="gameContainer">
        <div class="game-title">Text RPG</div>
        <div class="game-text" id="gameText">
            <!-- Game text dynamically updated here -->
            Welcome to the Text RPG! Begin your adventure...
        </div>
        <div class="button-container">
            <button onclick="explore()">Explore</button>
            <button onclick="startFight()">Fight</button>
            <!-- Add more buttons for additional actions -->
        </div>
        <div class="inventory" id="inventory">
            <strong>Inventory:</strong>
            <ul id="inventoryList">
                <!-- Inventory items dynamically updated here -->
                <li>No items</li>
            </ul>
        </div>
        <div class="stats" id="stats">
            <strong>Stats:</strong>
            <table>
                <tr>
                    <th>Health</th>
                    <td id="health">100</td>
                </tr>
                <tr>
                    <th>Strength</th>
                    <td id="strength">10</td>
                </tr>
                <!-- Add more stats as needed -->
            </table>
        </div>
        <div class="settings-button">
            <button onclick="toggleSettings()">Settings</button>
        </div>
        <div class="areas-menu" id="areasMenu">
            <strong>Areas:</strong>
            <select id="areaSelect" onchange="changeArea()">
                <option value="1">Area 1 - Forest (Level 1-10)</option>
                <option value="2">Area 2 - Mountains (Level 10-20)</option>
                <option value="3">Area 3 - Caves (Level 20-30)</option>
                <option value="4">Area 4 - Desert (Level 30-40)</option>
                <option value="5">Area 5 - Swamp (Level 40-50)</option>
                <!-- Add more areas as needed -->
            </select>
        </div>
        <div class="save-button">
            <button onclick="saveGame()">Save Game</button>
        </div>
    </div>

    <!-- Settings Menu -->
    <div class="settings-menu" id="settingsMenu">
        <strong>Settings:</strong>
        <div>
            <label><input type="checkbox" id="soundCheckbox"> Sound</label>
        </div>
        <div>
            <label>Text Size:
                <select id="textSizeSelect" onchange="changeTextSize()">
                    <option value="normal">Normal</option>
                    <option value="large">Large</option>
                </select>
            </label>
        </div>
        <div class="dark-mode">
            <label><input type="checkbox" id="darkModeCheckbox" onchange="toggleDarkMode()"> Dark Mode</label>
        </div>
    </div>

    <script>
        // Initial game state
        var player = {
            name: "Player",
            health: 100,
            strength: 10,
            area: 1  // Player starts in Area 1
        };

        var areas = [
            { id: 1, name: "Forest", recommendedLevel: "1-10" },
            { id: 2, name: "Mountains", recommendedLevel: "10-20" },
            { id: 3, name: "Caves", recommendedLevel: "20-30" },
            { id: 4, name: "Desert", recommendedLevel: "30-40" },
            { id: 5, name: "Swamp", recommendedLevel: "40-50" }
            // Add more areas as needed
        ];

        // Load settings from localStorage if available
        var settings = {
            sound: true,
            textSize: "normal",
            darkMode: false
        };

        loadSettings();

        function loadSettings() {
            if (localStorage.getItem("settings")) {
                settings = JSON.parse(localStorage.getItem("settings"));
                applySettings();
            }
        }

        function applySettings() {
            var darkModeCheckbox = document.getElementById("darkModeCheckbox");
            var gameContainer = document.getElementById("gameContainer");

            darkModeCheckbox.checked = settings.darkMode;
            if (settings.darkMode) {
                gameContainer.classList.add("dark-mode");
            } else {
                gameContainer.classList.remove("dark-mode");
            }
        }

        function saveSettings() {
            localStorage.setItem("settings", JSON.stringify(settings));
        }

        function toggleDarkMode() {
            settings.darkMode = !settings.darkMode;
            applySettings();
            saveSettings();
        }

        function explore() {
            var gameText = document.getElementById("gameText");
            gameText.textContent = "You explore the " + areas[player.area - 1].name + " (Recommended Level: " + areas[player.area - 1].recommendedLevel + ")...\n";
            // Add more exploration logic
        }

        function startFight() {
            var gameText = document.getElementById("gameText");
            gameText.textContent = "You prepare for a fight in the " + areas[player.area - 1].name + " (Recommended Level: " + areas[player.area - 1].recommendedLevel + ")...\n";
            // Add fight logic
        }

        function changeArea() {
            var areaSelect = document.getElementById("areaSelect");
            var selectedAreaId = parseInt(areaSelect.value);
            player.area = selectedAreaId;
            // Update game text or perform other actions when changing areas
            var gameText = document.getElementById("gameText");
            gameText.textContent = "Moved to " + areas[player.area - 1].name + ".\n";
        }

        function saveGame() {
            // Implement save game functionality (e.g., using localStorage or backend API)
            alert("Game saved!");
        }

        // Function to toggle settings menu visibility
        function toggleSettings() {
            var settingsMenu = document.getElementById("settingsMenu");
            if (settingsMenu.style.display === "block") {
                settingsMenu.style.display = "none";
            } else {
                settingsMenu.style.display = "block";
            }
        }

        function changeTextSize() {
            var textSize = document.getElementById("textSizeSelect").value;
            var gameText = document.getElementById("gameText");

            switch (textSize) {
                case "normal":
                    gameText.style.fontSize = "16px";
                    break;
                case "large":
                    gameText.style.fontSize = "20px";
                    break;
                // Add more cases for additional text sizes
                default:
                    break;
            }

            // Update settings and save
            settings.textSize = textSize;
            saveSettings();
        }

        // Initialize the game with saved settings
        applySettings();

        // Event listener for window.onload to ensure settings are applied on page load
        window.onload = function() {
            applySettings();
        };
    </script>
</body>
</html>
